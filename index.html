<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Pepper Mobile Onboarding</title>

    <style>
        :root {
            /* Dark theme palette */
            --ql-bg: #0f0f0f;
            --ql-surface: #1a1a1a;
            --ql-card: #1f1f1f;
            --ql-text-main: #e5e5e5;
            --ql-text-dim: #a0a0a0;
            --ql-border: #333333;
            --ql-accent: #ff4444;
            --ql-accent-light: #2a1616;

            --radius-lg: 1rem;
            --radius-md: .5rem;
            --shadow-card: 0 16px 40px rgba(0,0,0,.3);
            --font-stack: system-ui, -apple-system, BlinkMacSystemFont, "Inter", "Roboto", "Helvetica Neue", Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
        }

        body {
            margin: 0;
            background: var(--ql-surface);
            font-family: var(--font-stack);
            color: var(--ql-text-main);
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        main {
            background: var(--ql-card);
            box-shadow: var(--shadow-card);
            border-radius: var(--radius-lg);
            width: 100%;
            max-width: 480px;
            margin: 2rem 1rem;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid var(--ql-border);
        }

        header {
            padding: 1rem 1.25rem .75rem;
            border-bottom: 1px solid var(--ql-border);
            background: var(--ql-bg);
        }

        .brand-line {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: .75rem;
        }

        .logo {
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--ql-text-main);
            display: flex;
            align-items: center;
            gap: .5rem;
        }
        .logo-icon {
            width: 24px;
            height: 24px;
            object-fit: contain;
        }
        .logo-accent {
            color: var(--ql-accent);
            font-weight: 600;
        }
        .retailer-ref {
            font-size: .75rem;
            color: var(--ql-text-dim);
            text-align: right;
        }

        .stepper {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: .5rem;
            font-size: .7rem;
            line-height: 1.1;
            color: var(--ql-text-dim);
        }

        .step {
            text-align: center;
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 0;
        }

        .step-circle {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid var(--ql-border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: .7rem;
            font-weight: 600;
            background: var(--ql-bg);
            color: var(--ql-text-main);
        }

        .step-active .step-circle {
            background: var(--ql-accent);
            border-color: var(--ql-accent);
            color: #fff;
        }

        .step-complete .step-circle {
            background: var(--ql-accent);
            border-color: var(--ql-accent);
            color: #fff;
        }

        .step-label {
            margin-top: .4rem;
            white-space: nowrap;
            max-width: 4rem;
            text-overflow: ellipsis;
            overflow: hidden;
        }

        /* content area */
        .screen {
            display: none;
            padding: 1.5rem 1.25rem 2rem;
            background: var(--ql-bg);
        }
        .screen.active {
            display: block;
        }

        h1 {
            font-size: 1.25rem;
            line-height: 1.2;
            font-weight: 600;
            color: var(--ql-text-main);
            margin: 0 0 .5rem;
        }
        .sub {
            color: var(--ql-text-dim);
            font-size: .9rem;
            line-height: 1.4;
            margin-bottom: 1.5rem;
        }

        .plan-card {
            border: 1px solid var(--ql-border);
            border-radius: var(--radius-md);
            padding: 1rem 1rem .75rem;
            background: var(--ql-surface);
            margin-bottom: 1.5rem;
        }
        .plan-title-line {
            display: flex;
            align-items: baseline;
            gap: .5rem;
            flex-wrap: wrap;
            margin-bottom: .25rem;
        }
        .plan-name {
            font-size: 1rem;
            font-weight: 600;
            color: var(--ql-text-main);
        }
        .plan-price {
            font-size: .9rem;
            color: var(--ql-accent);
            font-weight: 600;
        }
        .plan-desc {
            font-size: .8rem;
            color: var(--ql-text-dim);
            line-height: 1.4;
        }
        .plan-meta {
            display: flex;
            flex-wrap: wrap;
            gap: .5rem .75rem;
            margin-top: .75rem;
            font-size: .75rem;
            color: var(--ql-text-main);
        }
        .badge {
            background: var(--ql-accent-light);
            color: var(--ql-accent);
            border-radius: 999px;
            padding: .25rem .5rem;
            font-size: .7rem;
            font-weight: 600;
            white-space: nowrap;
        }

        form {
            display: grid;
            gap: 1rem;
        }

        label {
            display: block;
            font-size: .8rem;
            font-weight: 500;
            color: var(--ql-text-main);
            margin-bottom: .4rem;
        }

        input,
        select,
        button.upload-mock,
        textarea {
            width: 100%;
            font-size: .9rem;
            font-family: inherit;
            line-height: 1.4;
            padding: .75rem .75rem;
            border-radius: var(--radius-md);
            border: 1px solid var(--ql-border);
            background: var(--ql-card);
            color: var(--ql-text-main);
        }

        input::placeholder,
        textarea::placeholder {
            color: var(--ql-text-dim);
        }

        .small-hint {
            color: var(--ql-text-dim);
            font-size: .75rem;
            line-height: 1.4;
            margin-top: .4rem;
        }

        .option-row {
            display: flex;
            gap: .5rem;
        }
        .option-btn {
            flex: 1;
            border: 1px solid var(--ql-border);
            border-radius: var(--radius-md);
            padding: .9rem .75rem;
            background: var(--ql-card);
            text-align: center;
            font-size: .9rem;
            line-height: 1.3;
            cursor: pointer;
            user-select: none;
        }
        .option-btn.active {
            border-color: var(--ql-accent);
            box-shadow: 0 0 0 2px var(--ql-accent-light);
        }

        .summary-card {
            border: 1px solid var(--ql-border);
            border-radius: var(--radius-md);
            background: var(--ql-surface);
            padding: 1rem 1rem .75rem;
            font-size: .85rem;
            line-height: 1.4;
            color: var(--ql-text-main);
        }
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: .5rem;
            flex-wrap: wrap;
        }
        .summary-row strong {
            font-weight: 600;
        }
        .summary-total {
            border-top: 1px solid var(--ql-border);
            padding-top: .75rem;
            margin-top: .75rem;
            font-weight: 600;
            color: var(--ql-text-main);
        }

        footer {
            border-top: 1px solid var(--ql-border);
            background: var(--ql-bg);
            padding: 1rem 1.25rem 1.25rem;
            display: flex;
            gap: .75rem;
        }

        .btn {
            appearance: none;
            border: 0;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            font-size: .9rem;
            line-height: 1.2;
            font-weight: 600;
            padding: .9rem 1rem;
            border-radius: var(--radius-md);
            cursor: pointer;
            text-align: center;
            flex: 1;
        }
        .btn-primary {
            background: var(--ql-accent);
            color: #fff;
        }
        .btn-secondary {
            background: var(--ql-card);
            color: var(--ql-text-main);
            border: 1px solid var(--ql-border);
        }
        .btn[disabled] {
            opacity: .5;
            cursor: not-allowed;
        }

        .centered-block {
            text-align: center;
            padding: 2rem 1rem;
        }
        .big-emoji {
            font-size: 2rem;
            line-height: 1;
            margin-bottom: .75rem;
        }
        .big-headline {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--ql-text-main);
            line-height: 1.2;
            margin-bottom: .5rem;
        }
        .big-text {
            font-size: .9rem;
            line-height: 1.4;
            color: var(--ql-text-dim);
            max-width: 22rem;
            margin: 0 auto 1.5rem;
        }
    </style>
</head>
<body>

<main>
    <header>
        <div class="brand-line">
            <div class="logo">
                <img src="/seasoning_1406653.png" alt="Pepper" class="logo-icon">
                <span>Pepper</span><span class="logo-accent">mobile</span>
            </div>
            <div class="retailer-ref">
                Purchased at: <strong>Super Secret partner</strong><br/>
                Ref: <span style="font-family:monospace;">X4F7Q9</span>
            </div>
        </div>

        <div class="stepper">
            <div class="step" data-step-label="welcome">
                <div class="step-circle">1</div>
                <div class="step-label">Welcome</div>
            </div>
            <div class="step" data-step-label="details">
                <div class="step-circle">2</div>
                <div class="step-label">Your details</div>
            </div>
            <div class="step" data-step-label="idcheck">
                <div class="step-circle">3</div>
                <div class="step-label">ID &amp; credit</div>
            </div>
            <div class="step" data-step-label="number">
                <div class="step-circle">4</div>
                <div class="step-label">Number</div>
            </div>
            <div class="step" data-step-label="summary">
                <div class="step-circle">5</div>
                <div class="step-label">Summary</div>
            </div>
            <div class="step" data-step-label="done">
                <div class="step-circle">6</div>
                <div class="step-label">Done</div>
            </div>
        </div>
    </header>

    <!-- SCREEN 1: WELCOME -->
    <section class="screen active" id="screen-1">
        <h1>You're almost connected 🎉</h1>
        <p class="sub">
            Thanks for choosing Pepper Mobile. Let's activate your new plan.
            This only takes a few minutes.
        </p>

        <div class="plan-card">
            <div class="plan-title-line">
                <div class="plan-name">Unlimited Mobile Data</div>
                <div class="plan-price">CHF 49 / month</div>
            </div>
            <div class="plan-desc">
                Unlimited data in Switzerland, calls &amp; texts included.
                Your one-time activation fee was already paid in-store.
            </div>

            <div class="plan-meta">
                <div class="badge">No stress setup</div>
                <div class="badge">Keep your number</div>
                <div class="badge">Swiss support</div>
            </div>
        </div>

        <div class="sub" style="margin-bottom:2rem;">
            We'll ask for your contact info, confirm your identity,
            and (if needed) request to move your current number.
        </div>

        <div class="centered-block" style="padding:1rem 0 0;">
            <div class="big-headline" style="font-size:1rem;margin-bottom:.25rem;">
                What you need:
            </div>
            <div class="big-text" style="font-size:.8rem;margin-bottom:0;">
                • An email you can access<br/>
                • Your ID card or passport<br/>
                • Your current mobile number (if you want to keep it)
            </div>
        </div>
    </section>

    <!-- SCREEN 2: PERSONAL DETAILS -->
    <section class="screen" id="screen-2">
        <h1>Your details</h1>
        <p class="sub">
            We'll use this to set up your account and keep you updated.
        </p>

        <form>
            <div>
                <label for="fullName">Full name</label>
                <input id="fullName" placeholder="Jane Müller" />
            </div>

            <div>
                <label for="email">Email address</label>
                <input id="email" placeholder="jane@example.com" type="email" />
                <div class="small-hint">
                    We'll send a link so you can continue later if you close this page.
                </div>
            </div>

            <div>
                <label for="street">Street &amp; house number</label>
                <input id="street" placeholder="Bahnhofstrasse 10" />
            </div>

            <div style="display:flex;gap:.75rem;">
                <div style="flex:2;">
                    <label for="city">City</label>
                    <input id="city" placeholder="Bern" />
                </div>
                <div style="flex:1;">
                    <label for="zip">ZIP</label>
                    <input id="zip" placeholder="3000" />
                </div>
            </div>

            <div>
                <label for="dob">Date of birth</label>
                <input id="dob" type="date" />
            </div>
        </form>
    </section>

    <!-- SCREEN 3: ID + CREDIT CHECK -->
    <section class="screen" id="screen-3">
        <h1>ID verification &amp; credit check</h1>
        <p class="sub">
            We're required to confirm who's using the SIM and to check basic credit
            eligibility. This won't affect your credit score.
        </p>

        <div class="plan-card">
            <div class="plan-title-line" style="margin-bottom:.5rem;">
                <div class="plan-name">Step 1: Upload ID</div>
            </div>
            <p class="plan-desc" style="margin-bottom:1rem;">
                Please take a clear photo of the front of your ID card or passport.
                This is a demo – no real data is sent.
            </p>

            <button class="upload-mock" type="button" onclick="mockUpload()">
                📷 Upload / take photo of ID
            </button>

            <div id="uploadStatus" class="small-hint" style="margin-top:.75rem;">
                No file selected
            </div>
        </div>

        <div class="plan-card">
            <div class="plan-title-line" style="margin-bottom:.5rem;">
                <div class="plan-name">Step 2: Run quick check</div>
            </div>
            <p class="plan-desc" style="margin-bottom:1rem;">
                We'll confirm you're eligible for this plan.
            </p>

            <button class="upload-mock" type="button" onclick="mockCheck()">
                ✅ Verify identity &amp; credit
            </button>

            <div id="checkStatus" class="small-hint" style="margin-top:.75rem;">
                Not verified yet
            </div>
        </div>
    </section>

    <!-- SCREEN 4: NUMBER PORTING -->
    <section class="screen" id="screen-4">
        <h1>Your number</h1>
        <p class="sub">
            Do you want to keep your current mobile number, or get a brand new one?
        </p>

        <div class="option-row" style="margin-bottom:1rem;">
            <div class="option-btn active" id="opt-new" onclick="chooseNumberOpt('new')">
                Get a new number
                <div class="small-hint">Fastest</div>
            </div>
            <div class="option-btn" id="opt-port" onclick="chooseNumberOpt('port')">
                Keep my current number
                <div class="small-hint">We'll move it for you</div>
            </div>
        </div>

        <div id="porting-details" style="display:none;">
            <form>
                <div>
                    <label for="currentNumber">Your current mobile number</label>
                    <input id="currentNumber" placeholder="+41 79 123 45 67" />
                </div>

                <div>
                    <label for="currentProvider">Current provider</label>
                    <select id="currentProvider">
                        <option value="">Select your provider</option>
                        <option value="swisscom">Swisscom</option>
                        <option value="sunrise">Sunrise</option>
                        <option value="salt">Salt</option>
                        <option value="yallo">Yallo</option>
                        <option value="wingo">Wingo</option>
                        <option value="digital-republic">Digital Republic</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div>
                    <label for="authConfirm">Authorization</label>
                    <textarea id="authConfirm" rows="3" readonly>I authorize Pepper Mobile to request number transfer from my current provider.</textarea>
                    <div class="small-hint" style="margin-bottom:.75rem;">
                        Digital signature required for legal number porting.
                    </div>
                    <button class="btn btn-primary" type="button" onclick="openSigningService()" style="width:100%;">
                        ✍️ Sign Authorization
                    </button>
                    <div id="signStatus" class="small-hint" style="margin-top:.5rem;color:var(--ql-text-dim);">
                        Not signed yet
                    </div>
                </div>
            </form>
        </div>
    </section>

    <!-- SCREEN 5: SUMMARY -->
    <section class="screen" id="screen-5">
        <h1>Almost done</h1>
        <p class="sub">
            Please review and confirm.
        </p>

        <div class="summary-card">
            <div class="summary-row">
                <div>Plan</div>
                <strong>Unlimited Mobile Data</strong>
            </div>
            <div class="summary-row">
                <div>Monthly price</div>
                <strong>CHF 49</strong>
            </div>
            <div class="summary-row">
                <div>Activation fee</div>
                <strong>Paid in-store ✅</strong>
            </div>
            <div class="summary-row">
                <div>Number</div>
                <strong id="summaryNumberChoice">New number assigned</strong>
            </div>
            <div class="summary-total">
                By continuing you agree to start your Pepper Mobile service
                and allow us to finalize setup using the information you provided.
            </div>
        </div>

        <div class="small-hint" style="margin-top:1rem;">
            After you confirm, we'll finish activation. If anything needs manual review
            (e.g. ID clarity), we'll email you.
        </div>
    </section>

    <!-- SCREEN 6: THANK YOU -->
    <section class="screen" id="screen-6">
        <div class="centered-block">
            <div class="big-emoji">✅</div>
            <div class="big-headline">Thank you!</div>
            <div class="big-text">
                Your details are submitted. We're setting up your service.
                You'll get an email with next steps. If you asked to keep
                your number, we'll handle the transfer for you.
            </div>

            <div class="summary-card" style="margin-top:1.5rem;">
                <div class="summary-row">
                    <div>Status</div>
                    <strong>Pending final activation</strong>
                </div>
                <div class="summary-row">
                    <div>ID check</div>
                    <strong style="color:var(--ql-accent);">⏳ Pending verification</strong>
                </div>
                <div class="summary-row">
                    <div>Email sent to</div>
                    <strong>jane@example.com</strong>
                </div>
                <div class="summary-row">
                    <div>Reference</div>
                    <strong>X4F7Q9</strong>
                </div>
            </div>

            <div class="big-text" style="margin-top:1.5rem;">
                You can close this page now.
            </div>
        </div>
    </section>

    <footer>
        <button class="btn btn-secondary" id="backBtn" onclick="goBack()">Back</button>
        <button class="btn btn-primary" id="nextBtn" onclick="goNext()">Next</button>
    </footer>
</main>

<script>
    let currentScreen = 1;
    const totalScreens = 6;

    function updateUI() {
        // screens
        for (let i = 1; i <= totalScreens; i++) {
            const el = document.getElementById("screen-" + i);
            if (!el) continue;
            el.classList.toggle("active", i === currentScreen);
        }

        // footer buttons
        const backBtn = document.getElementById("backBtn");
        const nextBtn = document.getElementById("nextBtn");

        if (currentScreen === 1) {
            backBtn.disabled = true;
        } else {
            backBtn.disabled = false;
        }

        if (currentScreen === totalScreens) {
            nextBtn.disabled = true;
        } else {
            nextBtn.disabled = false;
            nextBtn.textContent = currentScreen === totalScreens - 1 ? "Confirm" : "Next";
        }

        // stepper styling
        const stepEls = document.querySelectorAll(".stepper .step");
        stepEls.forEach((stepEl, idx) => {
            const circle = stepEl.querySelector(".step-circle");
            const stepIndex = idx + 1; // 1..6

            stepEl.classList.remove("step-active","step-complete");
            circle.textContent = stepIndex;

            if (stepIndex < currentScreen) {
                stepEl.classList.add("step-complete");
                circle.textContent = "✓";
            } else if (stepIndex === currentScreen) {
                stepEl.classList.add("step-active");
            }
        });

        // number choice summary
        const sumEl = document.getElementById("summaryNumberChoice");
        if (sumEl) {
            sumEl.textContent = chosenNumberOption === "port"
                ? "Keep my current number"
                : "New number assigned";
        }
    }

    function goNext() {
        if (currentScreen < totalScreens) {
            currentScreen++;
            updateUI();
        }
    }

    function goBack() {
        if (currentScreen > 1) {
            currentScreen--;
            updateUI();
        }
    }

    // mock upload + credit check
    function mockUpload() {
        const status = document.getElementById("uploadStatus");
        if (status) {
            status.textContent = "ID uploaded ✓ (demo)";
        }
    }
    function mockCheck() {
        const status = document.getElementById("checkStatus");
        if (status) {
            status.textContent = "Verified ✓ (demo)";
        }
    }

    // number choice handling
    let chosenNumberOption = "new";
    let isSigned = false;

    function chooseNumberOpt(which) {
        chosenNumberOption = which;
        const btnNew = document.getElementById("opt-new");
        const btnPort = document.getElementById("opt-port");
        const portDetails = document.getElementById("porting-details");

        if (which === "new") {
            btnNew.classList.add("active");
            btnPort.classList.remove("active");
            portDetails.style.display = "none";
        } else {
            btnPort.classList.add("active");
            btnNew.classList.remove("active");
            portDetails.style.display = "block";
        }

        updateUI();
    }

    function openSigningService() {
        // Mock signing service - in production this would open a real e-signature service
        const signStatus = document.getElementById("signStatus");
        if (signStatus) {
            signStatus.textContent = "✅ Signed successfully (demo)";
            signStatus.style.color = "var(--ql-accent)";
            isSigned = true;
        }
        // In production: window.open('https://signing-service.example.com/...')
    }

    updateUI();
</script>
</body>
</html>